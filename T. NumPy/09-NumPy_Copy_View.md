
# ğŸ§  NumPy Copy vs View â€” í•µì‹¬ ê°œë… ì •ë¦¬


## âœ… í•µì‹¬ ì°¨ì´
| ê°œë…   | ë©”ëª¨ë¦¬ ê³µìœ  | ì›ë³¸ ì˜í–¥ | ë…ë¦½ì„± | ìš©ë„           |
|--------|--------------|------------|--------|----------------|
| View   | ê³µìœ í•¨       | ì˜í–¥ ìˆìŒ | X      | ìŠ¬ë¼ì´ì‹±, ì–•ì€ ë³µì‚¬ |
| Copy   | ê³µìœ  ì•ˆ í•¨   | ì˜í–¥ ì—†ìŒ | O      | ì™„ì „í•œ ë³µì‚¬        |


## ğŸ” ì˜ˆì œ ë¶„ì„


## 1ï¸âƒ£ ê¸°ë³¸ í• ë‹¹ (ì°¸ì¡° ê³µìœ )
```python
a = np.arange(12)
b = a
print(b is a)  â†’ True

b.shape = (3, 4)
print(a.shape) â†’ (3, 4)  # bì™€ aëŠ” ê°™ì€ ê°ì²´
```

## 2ï¸âƒ£ í•¨ìˆ˜ ì¸ìë¡œ ì „ë‹¬ (ì£¼ì†Œ ë™ì¼)
```
def f(x):
    print(id(x))

print(id(a))  â†’ 4390739120
f(a)          â†’ 4390739120  # ë™ì¼í•œ ê°ì²´ ì „ë‹¬

```

## 3ï¸âƒ£ View ìƒì„± (ì–•ì€ ë³µì‚¬)
```python
c = a.view()
print(c is a)         â†’ False
print(c.base is a)    â†’ True
print(c.flags.owndata)â†’ False
```

c.shape = (2, 6)       # cì˜ shape ë³€ê²½ â†’ aëŠ” ì˜í–¥ ì—†ìŒ
c[0, 4] = 1234         # ë°ì´í„° ë³€ê²½ â†’ aì—ë„ ë°˜ì˜ë¨


### 4ï¸âƒ£ ìŠ¬ë¼ì´ì‹±ë„ View
```python
s = a[:, 1:3]
print(s) â†’ [[1 2], [5 6], [9 10]]

s[:] = 10              # ìŠ¬ë¼ì´ìŠ¤ ë³€ê²½ â†’ aì—ë„ ë°˜ì˜ë¨
```

### 5ï¸âƒ£ Copy ìƒì„± (ê¹Šì€ ë³µì‚¬)
```python
d = a.copy()
print(d is a)         â†’ False
print(d.base is a)    â†’ False

d[0, 0] = 9999         # dë§Œ ë³€ê²½ â†’ aëŠ” ì˜í–¥ ì—†ìŒ
```

### 6ï¸âƒ£ ëŒ€ìš©ëŸ‰ ë°°ì—´ ë³µì‚¬
```python
a = np.arange(int(1e8))  # 1ì–µ ê°œ ìš”ì†Œ
print(a.size) â†’ 100000000

b = a[0:100].copy()      # ì¼ë¶€ë§Œ ê¹Šì€ ë³µì‚¬
print(b.size) â†’ 100
```



## ğŸ’¡ ë³´ê°• í¬ì¸íŠ¸ â€” Copy vs View ì†ì„± ìš”ì•½
| ì†ì„± ë˜ëŠ” í•¨ìˆ˜       | ì„¤ëª…                                                   | ì˜ˆì‹œ ê²°ê³¼ ë˜ëŠ” íŠ¹ì§•             |
|----------------------|--------------------------------------------------------|----------------------------------|
| .view()              | ì›ë³¸ ë°ì´í„°ë¥¼ ê³µìœ í•˜ëŠ” ìƒˆë¡œìš´ ë°°ì—´ ê°ì²´ ìƒì„±           | shape ë³€ê²½ ê°€ëŠ¥, ë°ì´í„° ê³µìœ      |
| .copy()              | ì›ë³¸ê³¼ ë…ë¦½ì ì¸ ë°°ì—´ ìƒì„± (ê¹Šì€ ë³µì‚¬)                  | shape/ë°ì´í„° ë³€ê²½í•´ë„ ì›ë³¸ ì˜í–¥ ì—†ìŒ |
| .base                | ì›ë³¸ ë°°ì—´ì„ ì°¸ì¡°í•˜ëŠ” ê°ì²´ì¸ì§€ í™•ì¸                      | viewì¼ ê²½ìš° â†’ .base is ì›ë³¸ ë°°ì—´ |
| .flags.owndata       | ë°°ì—´ì´ ë°ì´í„°ë¥¼ ì§ì ‘ ì†Œìœ í•˜ëŠ”ì§€ ì—¬ë¶€                    | view â†’ False, copy â†’ True        |


## ğŸ”§ ì˜ˆì‹œ ì½”ë“œ ìš”ì•½
```python
a = np.arange(12)
b = a.view()
c = a.copy()

print(b.base is a)          # True â†’ viewëŠ” ì›ë³¸ ì°¸ì¡°
print(c.base is a)          # False â†’ copyëŠ” ë…ë¦½ì 

print(b.flags.owndata)      # False â†’ viewëŠ” ë°ì´í„° ì†Œìœ  X
print(c.flags.owndata)      # True â†’ copyëŠ” ë°ì´í„° ì†Œìœ  O
```


## ğŸ§  í•µì‹¬ ì°¨ì´ ìš”ì•½ â€” Copy vs View
| í•­ëª©           | View                          | Copy                          | ì„¤ëª… ìš”ì•½                                   |
|----------------|-------------------------------|-------------------------------|---------------------------------------------|
| ë©”ëª¨ë¦¬ ê³µìœ     | O                             | X                             | ViewëŠ” ì›ë³¸ê³¼ ë©”ëª¨ë¦¬ ê³µìœ                    |
| ì›ë³¸ ì˜í–¥      | O                             | X                             | View ë³€ê²½ ì‹œ ì›ë³¸ë„ ë³€ê²½ë¨                  |
| ë…ë¦½ì„±         | X                             | O                             | CopyëŠ” ì™„ì „íˆ ë…ë¦½ëœ ë°°ì—´                   |
| ì†ë„/ë©”ëª¨ë¦¬    | ë¹ ë¦„, ë©”ëª¨ë¦¬ ì ˆì•½             | ëŠë¦¼, ë©”ëª¨ë¦¬ ë” ì‚¬ìš©          | ViewëŠ” ê°€ë³ê³  ë¹ ë¦„, CopyëŠ” ì•ˆì „í•˜ì§€ë§Œ ë¬´ê±°ì›€ |
| ìš©ë„           | ìŠ¬ë¼ì´ì‹±, ì–•ì€ ë³µì‚¬           | ì•ˆì „í•œ ë³µì‚¬, ë°ì´í„° ë³´í˜¸      | ìƒí™©ì— ë”°ë¼ ì„ íƒ í•„ìš”                       |


## ğŸ’¬ í•œë§ˆë””
.view()ëŠ” ë¹ ë¥´ê³  ê°€ë³ì§€ë§Œ ì›ë³¸ì— ì˜í–¥ì„ ì£¼ê³   
.copy()ëŠ” ì•ˆì „í•˜ì§€ë§Œ ë©”ëª¨ë¦¬ ë¹„ìš©ì´ ìˆì–´.  
íŠ¹íˆ ëŒ€ìš©ëŸ‰ ë°°ì—´ì„ ë‹¤ë£° ë•ŒëŠ” ì´ ì°¨ì´ë¥¼ ì •í™•íˆ ì´í•´í•´ì•¼  
ì„±ëŠ¥ê³¼ ì•ˆì •ì„±ì„ ëª¨ë‘ ì±™ê¸¸ ìˆ˜ ìˆìŒ.  


## ì›ë³¸ ì†ŒìŠ¤
```python
import numpy as np
## Case 1.
a = np.arange(12)
b = a
print(b is a)
'''True'''

b.shape = 3, 4
print(a.shape)
'''(3, 4)'''

print(a)
'''
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]
 '''

## Case 2.
def f(x):
    print(id(x))
print(id(a))
'''4390739120'''
f(a)
'''4390739120'''

## Case 3.
c = a.view()
print( c is a)
'''False'''

print( c.base is a)
'''True'''

print(c.flags.owndata)
'''False'''

c.shape = 2, 6
print(c.shape)
'''(2, 6)'''

print(a.shape)
'''(3, 4)'''

c[0, 4] = 1234
print(c)
'''
[[   0    1    2    3 1234    5]
 [   6    7    8    9   10   11]]
 '''

print(a)
'''
[[   0    1    2    3]
 [1234    5    6    7]
 [   8    9   10   11]]
'''

s = a[:, 1:3]
print(s)
'''
[[ 1  2]
 [ 5  6]
 [ 9 10]]
'''

s[:] = 10
print(a)
'''
[[   0   10   10    3]
 [1234   10   10    7]
 [   8   10   10   11]]
 '''

## Case 4.

d = a.copy()
print(d is a)
'''False'''

print(d.base is a)
'''False'''

d[0, 0] = 9999
print(d)
'''
[[9999   10   10    3]
 [1234   10   10    7]
 [   8   10   10   11]]
 '''

print(a)
'''
[[   0   10   10    3]
 [1234   10   10    7]
 [   8   10   10   11]]
 '''
## Case 5.
a = np.arange(int(1e8))
print(a.size)
'''100000000'''

b = a[0:100].copy()
print(b.size)
'''100'''

```