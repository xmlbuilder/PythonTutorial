# Basic â€” Fancy Indexing & Index Tricks


## âœ… 1. ê¸°ë³¸ ì¸ë±ì‹± ì˜ˆì œ
```python
import numpy as np

a = np.arange(12) ** 2
# â†’ [  0   1   4   9  16  25  36  49  64  81 100 121]

i = np.array([1, 1, 3, 8, 5])
c = a[i]
# â†’ [ 1  1  9 64 25]

j = np.array([[3, 4], [9, 7]])
d = a[j]
# â†’ [[ 9 16]
#    [81 49]]
```
##  âœ… 2. ìƒ‰ìƒ íŒ”ë ˆíŠ¸ ì¸ë±ì‹±
```python
palette = np.array([
    [0, 0, 0],       # black
    [255, 0, 0],     # red
    [0, 255, 0],     # green
    [0, 0, 255],     # blue
    [255, 255, 255], # white
])

image = np.array([
    [0, 1, 2, 0],
    [0, 3, 4, 0]
])

d = palette[image]
# â†’ shape: (2, 4, 3)
# â†’ ê° í”½ì…€ì„ RGB ìƒ‰ìƒìœ¼ë¡œ ë§¤í•‘

'''
[[[  0   0   0]
  [255   0   0]
  [  0 255   0]
  [  0   0   0]]
 [[  0   0   0]
  [  0   0 255]
  [255 255 255]
  [  0   0   0]]]
'''

```


### âœ… 3. ë‹¤ì°¨ì› ì¸ë±ì‹±
```python
a = np.arange(12).reshape(3, 4)
# â†’ [[ 0  1  2  3]
#    [ 4  5  6  7]
#    [ 8  9 10 11]]

i = np.array([[0, 1], [1, 2]])
j = np.array([[2, 1], [3, 3]])
d = a[i, j]
# â†’ [[ 2  5]
#    [ 7 11]]

d = a[i, 2]
# â†’ [[ 2  6]
#    [ 6 10]]

d = a[:, j]
# â†’ shape: (3, 2, 2)
# â†’ ê° í–‰ì—ì„œ j ìœ„ì¹˜ì˜ ê°’ ì¶”ì¶œ
```

### ê²°ê³¼:
```
# [[[ 2  1]
#   [ 3  3]]
#  [[ 6  5]
#   [ 7  7]]
#  [[10  9]
#   [11 11]]]
```

## âœ… 4. ìµœëŒ€ê°’ ìœ„ì¹˜ ì¸ë±ì‹±

```python
time = np.linspace(20, 145, 5)

# [ 20.    51.25  82.5  113.75 145.  ]

data = np.sin(np.arange(20).reshape(5, 4))
# shape: (5, 4)
'''
[[ 0.          0.84147098  0.90929743  0.14112001]
 [-0.7568025  -0.95892427 -0.2794155   0.6569866 ]
 [ 0.98935825  0.41211849 -0.54402111 -0.99999021]
 [-0.53657292  0.42016704  0.99060736  0.65028784]
 [-0.28790332 -0.96139749 -0.75098725  0.14987721]]
'''

ind = data.argmax(axis=0)
# ê° ì—´ì—ì„œ ìµœëŒ€ê°’ ìœ„ì¹˜
'''[2 0 3 1]'''

time_max = time[ind]
# ìµœëŒ€ê°’ì´ ë°œìƒí•œ ì‹œê°„
'''[ 82.5   20.   113.75  51.25]'''

data_max = data[ind, range(data.shape[1])]
# ìµœëŒ€ê°’ ì§ì ‘ ì¶”ì¶œ
'''[0.98935825 0.84147098 0.99060736 0.6569866 ]'''
np.all(data_max == data.max(axis=0))
# True (ê²€ì¦)
'''True'''
```

## âœ… 5. ì¸ë±ì‹±ì„ í†µí•œ ê°’ ë³€ê²½
```python
a = np.arange(5)
# [0 1 2 3 4]

a[[1, 3, 4]] = 0
# [0 0 2 0 0]

a = np.arange(5)
a[[0, 0, 2]] = [1, 2, 3]
# [2 1 3 3 4]

a = np.arange(5)
a[[0, 0, 2]] += 1
# [1 1 3 3 4]
# ì¤‘ë³µ ì¸ë±ìŠ¤ëŠ” í•œ ë²ˆë§Œ ì²˜ë¦¬ë¨ (ì£¼ì˜!)
```

----

# NumPyì˜ ë‹¤ì°¨ì› Fancy Indexingì„ í™œìš©í•œ ê³ ê¸‰ ì¸ë±ì‹± ê¸°ë²•. 
ì•„ë˜ì— ê° ë‹¨ê³„ë³„ë¡œ ë°°ì—´ì˜ êµ¬ì¡°, ì¸ë±ì‹± ë°©ì‹, ê·¸ë¦¬ê³  ê²°ê³¼ê°€ ì–´ë–»ê²Œ ë‚˜ì˜¤ëŠ”ì§€ë¥¼ í•˜ë‚˜í•˜ë‚˜ ì„¤ëª….

## âœ… Step 1: ë°°ì—´ ìƒì„±
```python
a = np.arange(12).reshape(3, 4)
```

- np.arange(12) â†’ [0, 1, 2, ..., 11]
- .reshape(3, 4) â†’ 3í–‰ 4ì—´ë¡œ ì¬ë°°ì—´
```python
a =
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]

```

## âœ… Step 2: ë‹¤ì°¨ì› ì¸ë±ì‹± â€” a[i, j]
```python
i = np.array([[0, 1], [1, 2]])
j = np.array([[2, 1], [3, 3]])
d = a[i, j]


i = [[0, 1],
     [1, 2]]

j = [[2, 1],
     [3, 3]]
```


- iì™€ jëŠ” ê°™ì€ shape (2, 2)
- a[i, j]ëŠ” (i[k], j[k]) ìœ„ì¹˜ì˜ ê°’ì„ ì¶”ì¶œ

| i ê°’ | j ê°’ | ìœ„ì¹˜      | a[i, j] ê°’ |
|------|------|-----------|------------|
| 0    | 2    | a[0, 2]   | 2          |
| 1    | 1    | a[1, 1]   | 5          |
| 1    | 3    | a[1, 3]   | 7          |
| 2    | 3    | a[2, 3]   | 11         |

### ê²°ê³¼:
```
d =
[[ 2  5]
 [ 7 11]]
```


## âœ… Step 3: ë¸Œë¡œë“œìºìŠ¤íŒ… ì¸ë±ì‹± â€” a[i, 2]
```python
d = a[i, 2]

i = [[0, 1],
     [1, 2]]
```


- i.shape = (2, 2)
- 2ëŠ” ìŠ¤ì¹¼ë¼ â†’ ë¸Œë¡œë“œìºìŠ¤íŠ¸ë¨
ì¦‰, ê° i[k]ì— ëŒ€í•´ a[i[k], 2]ë¥¼ ê³„ì‚°:
| i[k] | ì—´ ì¸ë±ìŠ¤ | ìœ„ì¹˜      | a[i[k], 2] ê°’ |
|------|-----------|-----------|---------------|
| 0    | 2         | a[0, 2]   | 2             |
| 1    | 2         | a[1, 2]   | 6             |
| 1    | 2         | a[1, 2]   | 6             |
| 2    | 2         | a[2, 2]   | 10            |



### ê²°ê³¼:
```
d =
[[ 2  6]
 [ 6 10]]
```


### âœ… Step 4: ë‹¤ì°¨ì› ì¸ë±ì‹± â€” a[:, j]
```python
d = a[:, j]

j = [[2, 1],
     [3, 3]]

```

- : â†’ ëª¨ë“  í–‰ (0, 1, 2)
- j.shape = (2, 2) â†’ ê° í–‰ì— ëŒ€í•´ ë™ì¼í•œ ì¸ë±ìŠ¤ j ì ìš©
ì¦‰, ê° í–‰ rì— ëŒ€í•´ a[r, j]ë¥¼ ìˆ˜í–‰:

| í–‰ r | j[0] = [`2`, `1`] | j[1] = [`3`, `3`] | ê²°ê³¼ í–‰                         |
|------|---------------|---------------|----------------------------------|
| 0    | a[0, `2`] = 2   | a[0, `1`] = 1   | [2 1], a[0, `3`] = 3, a[0, `3`] = 3 â†’ [3 3] |
| 1    | a[1, `2`] = 6   | a[1, `1`] = 5   | [6 5], a[1, `3`] = 7, a[1, `3`] = 7 â†’ [7 7] |
| 2    | a[2, `2`] =10   | a[2, `1`] = 9   | [10 9], a[2, `3`] =11, a[2, `3`] =11 â†’ [11 11] |




### ê²°ê³¼:
```
d =
[[[ 2  1]
  [ 3  3]]

 [[ 6  5]
  [ 7  7]]

 [[10  9]
  [11 11]]]
```

- shape: (3, 2, 2) â†’ 3í–‰ Ã— jì˜ shape

### ğŸ§  í•µì‹¬ ìš”ì•½
| í‘œí˜„       | ë™ì‘ ë°©ì‹                                      | ê²°ê³¼ í˜•íƒœ ë° ì„¤ëª…                          |
|------------|------------------------------------------------|--------------------------------------------|
| a[i, j]    | i[k], j[k] ìŒìœ¼ë¡œ ì¢Œí‘œ ì ‘ê·¼                    | shape = i.shape, ê° (i[k], j[k]) ìœ„ì¹˜ì˜ ê°’ |
| a[i, 2]    | i[k]ì— ëŒ€í•´ ì—´ ì¸ë±ìŠ¤ 2ë¥¼ ê³ ì •í•˜ì—¬ ì¶”ì¶œ        | shape = i.shape, ê° í–‰ì—ì„œ ì—´ 2ì˜ ê°’       |
| a[:, j]    | ëª¨ë“  í–‰ì— ëŒ€í•´ j ë°°ì—´ì„ ë¸Œë¡œë“œìºìŠ¤íŠ¸í•˜ì—¬ ì¶”ì¶œ   | shape = (í–‰ ìˆ˜, j.shape), í–‰ë§ˆë‹¤ j ìœ„ì¹˜ì˜ ê°’ |


## ğŸ”§ ì˜ˆì‹œ ìš”ì•½
```python
a = np.arange(12).reshape(3, 4)
# â†’ [[ 0  1  2  3]
#    [ 4  5  6  7]
#    [ 8  9 10 11]]

i = [[0, 1], [1, 2]]
j = [[2, 1], [3, 3]]

a[i, j]    â†’ [[ 2  5], [ 7 11]]
a[i, 2]    â†’ [[ 2  6], [ 6 10]]
a[:, j]    â†’ [[[ 2  1], [ 3  3]], [[ 6  5], [ 7  7]], [[10  9], [11 11]]]

```









