# 변수 스코프 (global)
Python의 변수 스코프(scope) 중에서도 특히 global 키워드가 어떻게 동작 하는지 설명.  
아래에 global의 개념, 동작 원리, 실무에서의 주의점까지 정리.

## 🌍 global 키워드란?
global은 함수 내부에서 **전역 변수(global variable)**를 읽거나 수정할 수 있도록 선언하는 키워드.  
기본적으로 함수 내부에서 변수에 값을 할당하면 **지역 변수(local variable)**로 간주되는데, global을 사용하면 그 변수가 전역 변수임을 명시할 수 있음.

## 🔍 예제 분석
### ✅ 전역 변수 읽기 (읽는 건 가능)
```python
a = 10

def foo():
    print('Ex1 >', a)  # 전역 변수 a 읽기

foo()
print('Ex1 >', a)
```

- 함수 내부에서 a를 읽는 것만 할 경우 global 없이도 가능

### ❌ 지역 변수로 덮어쓰기 (전역 변수와 이름 같아도 별개)
```python
b = 20

def bar():
    b = 30  # 지역 변수 b
    print('Ex2 >', b)

bar()
print('Ex2 >', b)  # 여전히 전역 b = 20
```

- 함수 내부의 b는 지역 변수로 처리됨
- 전역 b는 영향을 받지 않음

### ✅ 전역 변수 수정 (global 선언 필요)
```python
def bar2():
    global b
    b = 30  # 전역 변수 b 수정

bar2()
print('Ex2 >', b)  # 이제 b = 30
```

- global b 선언으로 함수 내부에서도 전역 b를 수정할 수 있게 됨

### ⚠️ UnboundLocalError 발생 예시
```python
c = 40

def foobar():
    c = c + 10  # 에러 발생: 지역 변수로 간주되지만 초기화되지 않음
```

- Python은 c = c + 10을 보면 c를 지역 변수로 간주
- 하지만 c는 초기화되지 않았기 때문에 UnboundLocalError 발생

### ✅ 해결 방법: global 선언
```python
def foobar2():
    global c
    c = c + 10  # 전역 변수 c를 수정

foobar2()
```

- global c 선언으로 c는 전역 변수로 인식되어 정상 동작

## 🧠 실무에서 주의할 점

| 항목 또는 상황             | 설명                                                                 |
|----------------------------|----------------------------------------------------------------------|
| 전역 변수 남용 금지         | `global`을 남용하면 코드의 의존성이 높아지고 디버깅이 어려워짐             |
| 읽기만 할 경우 `global` 불필요 | 함수 내부에서 전역 변수 읽기만 할 경우 `global` 없이도 가능                 |
| 수정 시 반드시 `global` 필요 | 함수 내부에서 전역 변수 값을 변경하려면 `global` 선언이 필수                 |
| 테스트 및 모듈화 어려움     | 전역 상태를 변경하면 테스트 격리나 모듈 재사용이 어려워짐                   |
| 명확한 네이밍 권장          | 지역 변수와 전역 변수 이름이 같으면 혼동 발생. 명확한 변수명 사용이 중요       |


## 📌 요약
- global은 함수 내부에서 전역 변수에 **쓰기(write)**를 하기 위해 필요
- 읽기만 할 경우는 global 없이도 가능
- 전역 변수는 편리하지만 의존성이 높아지고 버그 유발 가능성도 커짐
- 실무에서는 가급적 함수 인자와 반환값을 통해 상태를 전달하는 방식이 권장됨

---
