# 🧪 1. 테스트 환경 구성
## 🔧 설치
```
pip install pytest
```
pytest는 Python에서 가장 널리 쓰이는 테스트 프레임워크야. 간결한 문법과 강력한 기능 덕분에 실무에서도 많이 사용.


## 🧩 2. 테스트 대상: logic.py 모듈
```python
# logic.py

from typing import Optional

CARDS = ["Rock", "Scissors", "Paper"]

def play(card1: str, card2: str) -> Optional[bool]:
    assert card1 in CARDS, "Invalid card1"
    assert card2 in CARDS, "Invalid card2"
    if card1 == card2:
        return None
    return ((card1 == "Rock" and card2 == "Scissors")
            or (card1 == "Scissors" and card2 == "Paper")
            or (card1 == "Paper" and card2 == "Rock"))

def stop():
    raise Exception("stop!")

```
play() 함수는 가위바위보 승패를 판단하고, stop() 함수는 강제로 예외를 발생시켜 테스트용 종료를 유도.


## 🧪 3. 테스트 코드: test.py
```python
# test.py

import pytest
from logic import play, stop

@pytest.mark.parametrize(
    ("card1", "card2"),
    [("Rock", "Scissors"), ("Scissors", "Paper"), ("Paper", "Rock")]
)
def test_win(card1, card2):
    assert play(card1, card2) == True

@pytest.mark.parametrize(
    ("card1", "card2"),
    [("Rock", "Rock"), ("Scissors", "Scissors"), ("Paper", "Paper")]
)
def test_draw(card1, card2):
    assert play(card1, card2) is None

@pytest.mark.parametrize(
    ("card1", "card2"),
    [("Scissors", "Rock"), ("Rock", "Paper"), ("Paper", "Scissors")]
)
def test_lose(card1, card2):
    assert play(card1, card2) == False

def test_stop():
    with pytest.raises(Exception) as exc:
        stop()
```



## ✅ 핵심 포인트

| 키워드 / 기능              | 설명                                                                 |
|----------------------------|----------------------------------------------------------------------|
| `@pytest.mark.parametrize` | 다양한 입력값으로 테스트를 반복 수행 → 테스트 커버리지와 재사용성 향상         |
| `assert`                   | 기대 결과와 실제 결과를 비교 → 실패 시 테스트 실패로 기록됨                   |
| `pytest.raises()`          | 특정 함수가 예외를 발생시키는지 확인 → 에러 처리 로직 검증에 사용됨             |
| `stop()`                   | 강제로 예외를 발생시키는 함수 → `pytest.raises()`로 테스트 대상이 됨            |



## 🚀 4. 테스트 실행
```
pytest test.py

```

## 🖥️ 실행 결과 예시
============================= test session starts ==============================
collected 10 items

test.py ..........                                                        [100%]

============================== 10 passed in 0.05s ==============================


모든 테스트가 성공적으로 통과했음을 보여줌. . 하나당 하나의 테스트가 성공한 걸 의미.


## 📌 실무 적용 팁

| 적용 포인트         | 설명                                                                 |
|----------------------|----------------------------------------------------------------------|
| ✅ 기능 검증 자동화    | 코드 변경 시 자동으로 테스트 수행 → 기능 이상 여부를 빠르게 확인 가능             |
| 🔁 회귀 테스트 강화    | 기존 기능이 깨지지 않았는지 반복적으로 검증 → 안정적인 릴리스 가능                 |
| ⚙️ CI/CD 연동         | GitHub Actions, Jenkins 등과 연동해 코드 푸시 시 자동 테스트 수행 가능             |
| 🧪 예외 처리 검증      | 예상되는 에러 상황을 미리 테스트 → 사용자에게 안정적인 서비스 제공 가능             |
| 📊 테스트 커버리지 분석 | `pytest-cov` 등으로 테스트 범위 확인 → 누락된 로직을 빠르게 보완 가능               |



