# ğŸ§  í•´ì‹œ í…Œì´ë¸”ì´ë€?

- Key â†’ Value êµ¬ì¡°ë¡œ ë°ì´í„°ë¥¼ ì €ì¥
- dictëŠ” Pythonì˜ ëŒ€í‘œì ì¸ í•´ì‹œ í…Œì´ë¸” êµ¬í˜„ì²´
- ë‚´ë¶€ì ìœ¼ë¡œëŠ” keyë¥¼ í•´ì‹± í•¨ìˆ˜ë¡œ ì²˜ë¦¬ â†’ í•´ì‹œ ì£¼ì†Œ â†’ value ì°¸ì¡°
- ë¶ˆë³€ ê°ì²´ë§Œ keyë¡œ ì‚¬ìš© ê°€ëŠ¥ (int, str, tuple ë“±)

## ğŸ” í•´ì‹œ ê°€ëŠ¥ ì—¬ë¶€
```python
t1 = (10, 20, 30, 40, 50)
print(hash(t1))  # âœ… í•´ì‹œ ê°€ëŠ¥

t2 = (10, 20, [30, 40, 50])
print(hash(t2))  # âŒ TypeError: listëŠ” ê°€ë³€ ê°ì²´

```

- tupleì€ ë¶ˆë³€ì´ì§€ë§Œ ë‚´ë¶€ì— listê°€ ìˆìœ¼ë©´ í•´ì‹œ ë¶ˆê°€
- í•´ì‹œ ê°€ëŠ¥í•œ ê°ì²´ë§Œ dictì˜ keyë¡œ ì‚¬ìš© ê°€ëŠ¥

## ğŸ§© dict + setdefault() í™œìš©
### âœ… ì¼ë°˜ ë°©ì‹
```python
new_dict1 = {}
for k, v in source:
    if k in new_dict1:
        new_dict1[k].append(v)
    else:
        new_dict1[k] = [v]

```

### âœ… setdefault() ë°©ì‹
```python
new_dict2 = {}
for k, v in source:
    new_dict2.setdefault(k, []).append(v)

```
- setdefault(key, default)ëŠ” keyê°€ ì—†ìœ¼ë©´ defaultë¥¼ ë„£ê³  ë°˜í™˜
- ì´í›„ .append(v)ë¡œ ë¦¬ìŠ¤íŠ¸ì— ê°’ ì¶”ê°€
### âš ï¸ ì£¼ì˜: dict comprehension
```python
new_dict3 = {k: v for k, v in source}
```

- ê°™ì€ keyê°€ ì—¬ëŸ¬ ë²ˆ ë“±ì¥í•˜ë©´ ë§ˆì§€ë§‰ ê°’ìœ¼ë¡œ ë®ì–´ì”€
- ë¦¬ìŠ¤íŠ¸ë¡œ ëˆ„ì í•˜ë ¤ë©´ setdefault() ë˜ëŠ” ì¡°ê±´ë¬¸ ë°©ì‹ ì‚¬ìš©

## ğŸ“˜ ìš”ì•½ í…Œì´ë¸”
| í•­ëª©             | ì„¤ëª…                                      | ì˜ˆì‹œ/ê²°ê³¼                          |
|------------------|-------------------------------------------|------------------------------------|
| í•´ì‹œ í…Œì´ë¸”       | key â†’ value êµ¬ì¡°, ë¹ ë¥¸ ì ‘ê·¼                | `dict`                             |
| í•´ì‹œ ê°€ëŠ¥ ê°ì²´     | ë¶ˆë³€ ê°ì²´ë§Œ ê°€ëŠ¥                           | `int`, `str`, `tuple`              |
| setdefault()     | key ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ ì„¤ì • í›„ ë°˜í™˜             | `dict.setdefault(k, []).append(v)` |
| dict comprehension | key ì¤‘ë³µ ì‹œ ë§ˆì§€ë§‰ ê°’ìœ¼ë¡œ ë®ì–´ì”€          | `{'k1': 'val4', ...}`              |

## ì˜ˆì œ ì†ŒìŠ¤
### dict ê°€ í•´ì‰¬ ë°ì´ë¸” ì¼ì¢…
```python
print(__builtins__.__dict__)
```
```
```

### Hash ê°’ í™•ì¸ (ë¶ˆë³€ ê°ì²´ë§Œ ê°€ëŠ¥)
```python
t1 = (10, 20, 30, 40, 50)
t2 = (10, 20, [30, 40, 50])
print(hash(t1))
```
```
8567762680143973733
```
```python
#print(hash(t2))
```
```
Traceback (most recent call last):
  File "/Users/jeongjunghwan/PycharmProjects/Tutorial2/module_test.py", line 18, in <module>
    print(hash(t2))
          ^^^^^^^^
TypeError: unhashable type: 'list'
```

### Dict setdefault
```python
source = (('k1', 'val1'), ('k2', 'val2'), ('k3', 'val3'), ('k1', 'val4'),)
new_dict1 = {}
new_dict2 = {}

for k, v in source:
    if k in new_dict1:
        new_dict1[k].append(v)
    else:
        new_dict1[k] = [v]

print(new_dict1)
```
```
{'k1': ['val1', 'val4'], 'k2': ['val2'], 'k3': ['val3']}
```
```python
for k, v in source:
    new_dict2.setdefault(k, []).append(v)
print(new_dict2)
```
```
{'k1': ['val1', 'val4'], 'k2': ['val2'], 'k3': ['val3']}
```

### ì£¼ì˜ (ë®ì–´ ì¨ ë²„ë¦°ë‹¤, ë°°ì—´ë¡œ ê´€ë¦¬ í•˜ì§€ ëª»í•œë‹¤)
```python
new_dict3 = {k: v for k, v in source}
print(new_dict3)
```
```
{'k1': 'val4', 'k2': 'val2', 'k3': 'val3'}
```
---

## `__builtins__.__dict__`

- Python ë‚´ë¶€ì—ì„œ ê¸°ë³¸ ì œê³µë˜ëŠ” ë‚´ì¥ í•¨ìˆ˜, ì˜ˆì™¸, ê°ì²´ë“¤ì„ ë‹´ê³  ìˆëŠ” ë”•ì…”ë„ˆë¦¬ í˜•íƒœì˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì…ë‹ˆë‹¤.  
- ì‰½ê²Œ ë§í•´, Pythonì´ ì‹¤í–‰ë  ë•Œ ìë™ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ë³¸ ë„êµ¬ ìƒìë¼ê³  ìƒê°í•˜ì‹œë©´ ë¨.

### ğŸ§  `__builtins__` ë€?
- Python ì¸í„°í”„ë¦¬í„°ê°€ ì‹œì‘ë  ë•Œ ìë™ìœ¼ë¡œ ë¡œë”©ë˜ëŠ” ë‚´ì¥ ëª¨ë“ˆ
- print, len, range, int, str, Exception ë“± ê¸°ë³¸ í•¨ìˆ˜ì™€ ê°ì²´ë“¤ì´ í¬í•¨ë¨
- `__builtins__.__dict__` ëŠ” ì´ë“¤ì„ ë”•ì…”ë„ˆë¦¬ í˜•íƒœë¡œ ë³´ì—¬ì¤Œ


## ğŸ” `__builtins__.__dict__` ì‚¬ìš© ëª©ì 

| ëª©ì  êµ¬ë¶„           | ì„¤ëª…                                                  |
|---------------------|-------------------------------------------------------|
| ë‚´ì¥ í•¨ìˆ˜ í™•ì¸       | Pythonì´ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” í•¨ìˆ˜, ì˜ˆì™¸, ê°ì²´ ëª©ë¡ í™•ì¸ ê°€ëŠ¥ |
| ë™ì  ì‹¤í–‰ ì œì–´       | `eval()` / `exec()` ì‚¬ìš© ì‹œ í—ˆìš©í•  í•¨ìˆ˜ ì œí•œ ê°€ëŠ¥         |
| ìƒŒë“œë°•ìŠ¤ í™˜ê²½ êµ¬ì„±   | ë³´ì•ˆ ëª©ì ì˜ ì œí•œëœ ì‹¤í–‰ í™˜ê²½ì—ì„œ í•„ìš”í•œ ê¸°ëŠ¥ë§Œ ë…¸ì¶œ       |
| ë””ë²„ê¹… ë° í•™ìŠµìš©     | ë‚´ë¶€ ë™ì‘ êµ¬ì¡°ë¥¼ ì´í•´í•˜ê±°ë‚˜ ì‹¤í—˜í•  ë•Œ ìœ ìš©               |
| ì‚¬ìš©ì í™˜ê²½ ì»¤ìŠ¤í„°ë§ˆì´ì§• | íŠ¹ì • ë‚´ì¥ ê¸°ëŠ¥ì„ ì˜¤ë²„ë¼ì´ë“œí•˜ê±°ë‚˜ ì œê±°í•  ë•Œ í™œìš©          |


### ğŸ§ª ì˜ˆì‹œ
```python
print(__builtins__.__dict__.keys())
```
```
dict_keys([... 'abs', 'all', 'any', 'ascii', 'bin', 'bool', ...])
```
```python
print(__builtins__.__dict__['max']([1, 2, 3]))
```
```
3
```

### ğŸ§ª ì˜ˆì‹œ: eval()ì—ì„œ ë‚´ì¥ í•¨ìˆ˜ ì œí•œ
```python
safe_globals = {"__builtins__": {"abs": abs}}
print(eval("abs(-5)", safe_globals))  # âœ… 5
print(eval("max([1, 2, 3])", safe_globals))  # âŒ NameError
```

- `__builtins__`ë¥¼ ì œí•œí•˜ë©´ eval()ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë„ ì œí•œë©ë‹ˆë‹¤.


## âš ï¸ ì£¼ì˜ì‚¬í•­
- ì¼ë°˜ì ì¸ ì½”ë“œì—ì„œëŠ” ì§ì ‘ ì‚¬ìš©í•  ì¼ì´ ê±°ì˜ ì—†ìŒ
- `__builtins__` ëŠ” êµ¬í˜„ í™˜ê²½ì— ë”°ë¼ module ë˜ëŠ” dictë¡œ ë³´ì¼ ìˆ˜ ìˆìŒ
- ë³´ì•ˆì´ ì¤‘ìš”í•œ í™˜ê²½ì—ì„œëŠ” eval() ì‚¬ìš© ì‹œ `__builtins__` ë¥¼ ì œê±°í•˜ê±°ë‚˜ ì œí•œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í™œìš©ë¨

---

