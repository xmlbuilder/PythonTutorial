# 📤 Basic Splitting — 배열을 여러 개로 나누기
## ✅ 목적
- 큰 배열을 작은 배열들로 나누는 작업
- 방향에 따라 hsplit, vsplit, array_split 등 다양한 방식 존재

## 샘플 코드
```python
import numpy as np
a = np.floor(10 * np.random.random((2, 12)))
print(a)
'''
[[1. 9. 4. 9. 3. 1. 1. 6. 5. 5. 5. 3.]
 [2. 2. 6. 6. 4. 6. 2. 5. 8. 9. 7. 9.]]
 '''
b = np.hsplit(a, 3)
print(b[0])
'''
[[1. 9. 4. 9.]
 [2. 2. 6. 6.]]
'''
print(b[1])
'''
[[3. 1. 1. 6.]
 [4. 6. 2. 5.]]
 '''
print(b[2])
'''
[[5. 5. 5. 3.]
 [8. 9. 7. 9.]]
'''


```

## 🔹 예제 분석
```python
a = np.floor(10 * np.random.random((2, 12)))
b = np.hsplit(a, 3)
```

- a는 shape (2, 12)인 2D 배열
- np.hsplit(a, 3)은 열 방향으로 3등분 → 각 배열은 shape (2, 4)

### 결과:
```
b[0] → [[1. 9. 4. 9.], [2. 2. 6. 6.]]
b[1] → [[3. 1. 1. 6.], [4. 6. 2. 5.]]
b[2] → [[5. 5. 5. 3.], [8. 9. 7. 9.]]
```

## 🔧 추가 예제
## 1. np.vsplit() — 행 방향 분할
```python
a = np.array([[1, 2, 3], [4, 5, 6]])
np.vsplit(a, 2)
# → [array([[1, 2, 3]]), array([[4, 5, 6]])]
```

### 2. np.array_split() — 자동 분할
```python
a = np.arange(10)
np.array_split(a, 3)
# → [array([0, 1, 2, 3]), array([4, 5, 6]), array([7, 8, 9])]
```

### 3. np.split() — 인덱스 기반 분할
```python
a = np.arange(12).reshape(2, 6)
np.split(a, [2, 4], axis=1)
# → 3개로 분할: [:, :2], [:, 2:4], [:, 4:]
```

#### 세분화 과정
 2행 6열짜리 배열을 **열 방향(axis=1)**으로 3개로 분할한. 아래에 단계별로 분리된 성분을 정확하게 보여줌.
 
#### 🔹 원본 배열 생성
a = np.arange(12).reshape(2, 6)

##### ✅ 결과:
```
[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]]
```
#### 🔹 분할 기준
```python
np.split(a, [2, 4], axis=1)
```
- axis=1 → 열 기준으로 분할
- [2, 4] → 인덱스 기준으로 자름
즉, 다음과 같이 나눔:
- [:, :2] → 첫 번째 조각 (열 0~1)
- [:, 2:4] → 두 번째 조각 (열 2~3)
- [:, 4:] → 세 번째 조각 (열 4~5)

#### 🔹 결과 배열 3개
##### ① 첫 번째 조각: [:, :2]
```
[[0 1]
 [6 7]]
```
##### ② 두 번째 조각: [:, 2:4]
```
[[2 3]
 [8 9]]
```
##### ③ 세 번째 조각: [:, 4:]
```
[[ 4  5]
 [10 11]]
```


#### 🧠 시각적 분할 요약
```
원본 a:
[[ 0  1 | 2  3 | 4  5]
 [ 6  7 | 8  9 |10 11]]
         ↑     ↑
       [2]   [4] → 분할 기준
```


💬 한마디
이 방식은 열 단위로 정확한 위치에서 잘라낼 수 있어서  
피처 분리, 데이터 전처리, 시각화 준비에 아주 유용.  
특히 np.split()은 인덱스를 직접 지정할 수 있어서
hsplit()보다 훨씬 정밀하게 제어할 수 있지.  


---

## 🧠 보강 포인트 — 다양한 분할 함수
| 함수                                | 분할 기준               | 조건 또는 특징                                      | 예시 결과 형태                    |
|-------------------------------------|--------------------------|-----------------------------------------------------|-----------------------------------|
| np.hsplit(a, n)                     | 열 방향 (axis=1)         | 열 수가 n으로 나누어 떨어져야 함                    | n개의 (행 수, 열/n) 배열          |
| np.vsplit(a, n)                     | 행 방향 (axis=0)         | 행 수가 n으로 나누어 떨어져야 함                    | n개의 (행/n, 열 수) 배열          |
| np.array_split(a, n)                | 자동 분할 (axis 기본=0)  | 나누어 떨어지지 않아도 자동으로 분할됨              | 크기가 다른 n개의 배열 가능       |
| np.split(a, indices_or_sections, axis=0 or 1) | 지정 위치 또는 개수 | 정확한 인덱스 또는 개수로 분할, axis 지정 가능       | 인덱스 기준으로 여러 조각 분할    |

## 🔧 함수별 상세 예제 및 결과
### 1️⃣ np.hsplit(a, n) — 열 방향으로 n등분
```python
a = np.arange(24).reshape(2, 12)
b = np.hsplit(a, 3)
```           

- a.shape = (2, 12) → 열 12개를 3등분
- 결과: 3개의 (2, 4) 배열
```
b[0] = [[ 0  1  2  3]
        [12 13 14 15]]

b[1] = [[ 4  5  6  7]
        [16 17 18 19]]

b[2] = [[ 8  9 10 11]
        [20 21 22 23]]
```


### 2️⃣ np.vsplit(a, n) — 행 방향으로 n등분
```python
a = np.arange(12).reshape(4, 3)
b = np.vsplit(a, 2)
```

- a.shape = (4, 3) → 행 4개를 2등분
- 결과: 2개의 (2, 3) 배열
```
b[0] = [[0 1 2]
        [3 4 5]]

b[1] = [[6 7 8]
        [9 10 11]]
```


### 3️⃣ np.array_split(a, n) — 자동 분할
```python
a = np.arange(10)
b = np.array_split(a, 3)
```

- 길이 10을 3등분 → 자동으로 [4, 3, 3] 분할
- 결과: 크기가 다른 3개의 배열
```
b[0] = [0 1 2 3]
b[1] = [4 5 6]
b[2] = [7 8 9]
```


### 4️⃣ np.split(a, indices_or_sections, axis) — 인덱스 기반 분할
```python
a = np.arange(12).reshape(2, 6)
b = np.split(a, [2, 4], axis=1)
```

- 열 방향(axis=1)에서 인덱스 [2, 4] 기준으로 분할
- 결과: 3개의 배열 → [:, :2], [:, 2:4], [:, 4:]
```
b[0] = [[ 0  1]
        [ 6  7]]

b[1] = [[ 2  3]
        [ 8  9]]

b[2] = [[ 4  5]
        [10 11]]
```


## 💡 실무 팁
- hsplit/vsplit은 정확히 나누어 떨어질 때만 사용  
- array_split은 유연한 분할이 필요할 때 유리  
- split은 정확한 위치 제어가 가능해 고급 분할에 적합  


---

##  📦 고급 배열 결합 함수 정리 — np.stack, np.concatenate, np.dstack, np.block
| 함수            | 결합 방식            | 특징 및 조건                                      | 결과 형태 예시                     |
|-----------------|----------------------|--------------------------------------------------|------------------------------------|
| np.stack()      | 새로운 축 추가 결합   | 모든 배열 shape 동일, axis 지정 가능              | (n, ...) → (n, x, y) 등             |
| np.concatenate()| 기존 축 기준 결합     | axis 기준으로 이어붙임, shape 맞아야 함           | (x + y, ...)                        |
| np.dstack()     | 깊이 방향 결합        | 2D 배열을 3D로 결합 (axis=2)                      | (행, 열, depth)                     |
| np.block()      | 블록 구조로 결합      | 리스트 구조로 다차원 결합 가능                    | 자유로운 블록 형태                 |



## 🔧 함수별 상세 예제 및 결과
### 1️⃣ np.stack() — 새로운 축 추가
```pythoin
a = np.array([1, 2, 3])
b = np.array([4, 5, 6])
np.stack((a, b), axis=0)
```

### 결과:
```
[[1 2 3]
 [4 5 6]]  # shape: (2, 3)
``

```python
np.stack((a, b), axis=1)
```

### 결과:
```
[[1 4]
 [2 5]
 [3 6]]  # shape: (3, 2)
```


### 2️⃣ np.concatenate() — 기존 축 기준 결합
```python
a = np.array([[1, 2], [3, 4]])
b = np.array([[5, 6]])
np.concatenate((a, b), axis=0)
```

### 결과:
```
[[1 2]
 [3 4]
 [5 6]]  # shape: (3, 2)
```


### 3️⃣ np.dstack() — 깊이 방향 결합 (axis=2)
```python
a = np.array([[1, 2], [3, 4]])
b = np.array([[5, 6], [7, 8]])
np.dstack((a, b))
```

### 결과:
```
[[[1 5]
  [2 6]]

 [[3 7]
  [4 8]]]  # shape: (2, 2, 2)

```

### 4️⃣ np.block() — 블록 구조 결합
```python
a = np.array([[1, 2], [3, 4]])
b = np.array([[5, 6]])
np.block([[a], [b]])
```

### 결과:
```
[[1 2]
 [3 4]
 [5 6]]  # shape: (3, 2)
```

```python
np.block([[a, a], [a, a]])
```

### 결과:
```
[[1 2 1 2]
 [3 4 3 4]
 [1 2 1 2]
 [3 4 3 4]]  # shape: (4, 4)
```


## 💡  실무 팁
- np.stack()은 차원 확장이 필요할 때
- np.concatenate()는 단순 이어붙이기에 적합
- np.dstack()은 이미지 채널처럼 깊이 방향 결합에 유용
- np.block()은 행렬 블록 구성이나 복잡한 구조 결합에 강력함


----


